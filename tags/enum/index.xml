<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Enum - Tag - Being BE</title>
        <link>https://kmsdevdata-sketch.github.io/tags/enum/</link>
        <description>Enum - Tag - Being BE</description>
        <generator>Hugo -- gohugo.io</generator><language>ko</language><managingEditor>kms.dev.data@gmail.com (Being Be)</managingEditor>
            <webMaster>kms.dev.data@gmail.com (Being Be)</webMaster><lastBuildDate>Tue, 16 Dec 2025 17:40:00 &#43;0900</lastBuildDate><atom:link href="https://kmsdevdata-sketch.github.io/tags/enum/" rel="self" type="application/rss+xml" /><item>
    <title>Enum 단순 상수 그너머</title>
    <link>https://kmsdevdata-sketch.github.io/posts/java-enum-beyond/</link>
    <pubDate>Tue, 16 Dec 2025 17:40:00 &#43;0900</pubDate>
    <author>kms.dev.data@gmail.com (Being Be)</author>
    <guid>https://kmsdevdata-sketch.github.io/posts/java-enum-beyond/</guid>
    <description><![CDATA[<p>실습을 거치다 보니 Enum을 좀더 획기적으로 사용해보고 싶은 욕망이 생겼다.</p>
<h2 id="enum이란">Enum이란?</h2>
<p>enum은 열거형으로써 서로 관련 있는 <strong>상수들의 집합을 정의</strong>하는 특별한 클래스라고 한다.</p>
<blockquote>
<p>&lsquo;열거(列擧)&lsquo;는 <strong>여러 가지 예나 사실, 비슷한 맥락의 대상들을 낱낱이 죽 늘어놓는 설명 및 표현 방법</strong></p></blockquote>
<p>enum을 내가 사용했을때는 보통 Order, Member 같은 도메인 객체의 필드값으로 사용되는 상태/종류 상수를 표현하는 데 사용해왔다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">enum</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">READY</span><span class="p">,</span><span class="w"> </span><span class="n">SHIPPED</span><span class="p">,</span><span class="w"> </span><span class="n">COMPLETE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>틀리게 사용한것은 아니지만 상태를 가지고 있을뿐 행동으로써는 전혀 활용하지 못하고있었다.</p>
<hr>
<h2 id="문제점">문제점</h2>
<p>상태가 늘어날수록 다양한 표현이 가능한것보다 if / switch 문만 늘어날뿐이였다.</p>
<p>이는 enum이 도메인 개념의 일부로 작동하는 것이 아닌 단순한 식별자 역할에만 머물러 있기 때문인걸 자각했다.</p>
<hr>
<h2 id="특정-값-매핑">특정 값 매핑</h2>
<p>간단한것부터 시작해보자.</p>
<p>enum은 단순 상수로써 활용될일이 많지만 특정한값을 매핑하게 되면 간단하지만 훨씬 폭넓게 활용이 가능하다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// 일반적인 사용</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">BookType</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">REGULAR</span><span class="p">,</span><span class="w"> </span><span class="n">BESTSELLER</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 1단계</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">BookType</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">REGULAR</span><span class="p">(</span><span class="s">&#34;일반도서&#34;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">BESTSELLER</span><span class="p">(</span><span class="s">&#34;베스트 셀러&#34;</span><span class="p">)</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 2단계</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">BookType</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">REGULAR</span><span class="p">(</span><span class="s">&#34;일반도서&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">7</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">BESTSELLER</span><span class="p">(</span><span class="s">&#34;베스트 셀러&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">3</span><span class="p">)</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>위와 같이 특정한 값들을 매핑하여 사용가능한데, 주의점으로는 특정 값을 매핑할 경우 해당 enum 클래스에 필드값과 생성자를 만들어주면 된다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rentalDays</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">BookType</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rentalDays</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">rentalDays</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rentalDays</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>*2단계를 기준으로 코드 작성한 것

위와 같이 작성하면 다음과 같이 매핑된다 (친절한 인텔리제이).</p>
<h3 id="매핑해서-사용하게-되면-뭐가-좋을까">매핑해서 사용하게 되면 뭐가 좋을까?</h3>
<p>만약 매핑을 하지않고 rentalDays를 입력해주려 했으면:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bookType</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&#34;BESTSELLER&#34;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">rentalDays</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">rentalDays</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">7</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>위와 같은 조건문이 붙기 시작하며 도서 타입에 따라서:</p>
<ul>
<li>서비스</li>
<li>컨트롤러</li>
<li>유틸 클래스</li>
</ul>
<p>여러 곳에 흩어지기 시작한다. 하지만 enum에 매핑하면:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kt">int</span><span class="w"> </span><span class="n">rentalDays</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="na">getType</span><span class="p">().</span><span class="na">getRentalDays</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p><strong>도서 타입에 대한 정보는 도서 타입이 알고있게</strong> 설계가 가능하다.</p>
<p>그 외에도 자연스럽게:</p>
<ul>
<li>의미 없는 조건문이 사라지고</li>
<li>해당 값이 왜 필요한지 코드에 남게되며 (ex. 베스트셀러는 대여기간이 짧구나!)</li>
<li>잘못된 값이 들어오지 않는다</li>
</ul>
<hr>
<h2 id="사용자-입력에-따른-값-매핑">사용자 입력에 따른 값 매핑</h2>
<p>사용자의 선택에 따라서 값을 매핑해줘야 하는 경우가 있다 (많다).</p>
<p>사용자 입력은 본질적으로 <strong>불안정한 값</strong>이라고 한다. 숫자든 문자열이든 언제든 잘못 들어올 수 있기 때문인데, 입력에 따른 해석 로직이 View나 Service에 흩어지기 시작하면 같은 규칙을 여러곳에서 반복하게 된다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">BookType</span><span class="w"> </span><span class="nf">fromNumber</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">REGULAR</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">BESTSELLER</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&#34;[ERROR] 1 또는 2를 입력해주세요.&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>위와 같이 애초에 enum 클래스 내부에 넣어주면:</p>
<ul>
<li>입력값 해석 규칙이 단 하나의 장소에 모이고</li>
<li>enum 스스로 어떤 값이 유효한지를 판단 가능하게 되며</li>
<li>잘못된 입력은 도메인 경계에서 즉시 차단 가능하다</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="nf">readBookInfo</span><span class="p">(</span><span class="n">Scanner</span><span class="w"> </span><span class="n">scanner</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readTitle</span><span class="p">(</span><span class="n">scanner</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readAuthor</span><span class="p">(</span><span class="n">scanner</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">bookTypeNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readBookType</span><span class="p">(</span><span class="n">scanner</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 여기</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">BookType</span><span class="w"> </span><span class="n">bookType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BookType</span><span class="p">.</span><span class="na">fromNumber</span><span class="p">(</span><span class="n">bookTypeNum</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readInventory</span><span class="p">(</span><span class="n">scanner</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">author</span><span class="p">,</span><span class="w"> </span><span class="n">bookType</span><span class="p">,</span><span class="w"> </span><span class="n">inventory</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>이렇게 간편하게 사용이 가능하다.</p>
<blockquote>
<p>BookType bookType = BookType.fromNumber(bookTypeNum);</p></blockquote>
<p>위의 코드 덕분에 View는:</p>
<ul>
<li>1이 무슨 의미인지</li>
<li>2가 어떤 타입인지</li>
</ul>
<p>알 필요없이 입력만 전달 → 도메인에서 의미부여가 가능하다.</p>
<hr>
<h2 id="enum에-동작-부여하기">Enum에 동작 부여하기</h2>
<p>이번에는 enum이 직접 행동하도록 만들어보자.</p>
<h3 id="기존-방식">기존 방식</h3>
<p>주문 금액에 따라 할인 정책이 달라지는 상황을 가정해보자:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">discountType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DiscountType</span><span class="p">.</span><span class="na">RATE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">price</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">discountType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DiscountType</span><span class="p">.</span><span class="na">FIXED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">price</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">1000</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>물론 이렇게 하는 경우는 드물겠지만 여러가지 상황에서 위와 유사한 상황이 발생했다 가정하면:</p>
<ul>
<li>정책이 늘어날수록 if/else 계속 증가</li>
<li>할인로직이 Service 곳곳으로 흩어지고</li>
<li>정책 추가시 기존 코드 수정이 필수적이다 (OCP 위반)</li>
</ul>
<h3 id="어떻게-설계">어떻게 설계?</h3>
<p>&ldquo;이 정책이 무엇을 하는지&quot;를 Service가 아니라 정책 스스로 알게 시켜보자.</p>
<h3 id="동작을-가진-enum">동작을 가진 enum</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">DiscountPolicy</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">RATE</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">FIXED</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">1000</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">price</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>각 상수가 서로 다른 구현을 가진 하나의 객체처럼 행동하게 된다.</p>
<h3 id="코드-변화">코드 변화</h3>
<p>이렇게 되면 이전 코드가:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kt">int</span><span class="w"> </span><span class="n">discountedPrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">discountPolicy</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">price</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>위와 같이 아주 깔끔해진다.</p>
<ul>
<li>분기 제거</li>
<li>OCP 준수</li>
<li>도메인 개념이 코드 구조로 드러나게 된다</li>
</ul>
<hr>
<h2 id="마무리">마무리</h2>
<p>거창한 제목과는 다르게 벌써 마무리되어 황당하신분들이 계실듯하다.</p>
<p>아직 뉴비구나… 하고 넘어가주시면 감사하겠습니다 😅</p>]]></description>
</item>
</channel>
</rss>
